{"swagger":"2.0","info":{"version":"1.0.0","title":"JPEC-SERVER REST API"},"host":"localhost:8080","basePath":"/gdadocer/api","tags":[{"name":"Allegati"},{"name":"Messaggi"},{"name":"Azioni"},{"name":"Test"}],"schemes":["http"],"paths":{"/allegati/upload":{"post":{"tags":["Allegati"],"summary":"/upload","description":"carica un alleagto","operationId":"upload","consumes":["multipart/form-data"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/UploadAllegatoRequest"}},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/InputStream"}},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/FormDataContentDisposition"}}],"responses":{"200":{"description":"success","schema":{"$ref":"#/definitions/AllegatoPec"}},"412":{"description":"PRECONDITION_FAILED"},"500":{"description":"error"}}}},"/messaggi/{id}":{"get":{"tags":["Messaggi"],"summary":"/messaggi","description":"dati di un messaggio","operationId":"getMessaggio","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"success","schema":{"$ref":"#/definitions/MessaggioPec"}},"500":{"description":"error"}}}},"/messaggi":{"post":{"tags":["Messaggi"],"summary":"/","description":"crea un nuovo messaggio","operationId":"nuovo","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/NuovoMessaggioRequest"}}],"responses":{"200":{"description":"success","schema":{"$ref":"#/definitions/NuovoMessaggioResponse"}},"500":{"description":"error"}}}},"/messaggi/{id}/stato":{"get":{"tags":["Messaggi"],"summary":"/stato","description":"stato del mdessaggio","operationId":"getStatoMessaggio","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"success","schema":{"type":"string"}},"500":{"description":"error"}}}},"/azioni/inviaericevi":{"get":{"tags":["Azioni"],"summary":"/inviaericevi","description":"invia e ricevi","operationId":"doInviaeRicevi","produces":["text/plain"],"parameters":[],"responses":{"200":{"description":"success","schema":{"type":"string"}},"500":{"description":"error"}}}},"/azioni/ricevi":{"get":{"tags":["Azioni"],"summary":"/ricevi","description":"scarica nuovi messaggi","operationId":"doRicevi","produces":["text/plain"],"parameters":[],"responses":{"200":{"description":"success","schema":{"type":"string"}},"500":{"description":"error"}}}},"/azioni/aggiornastato":{"get":{"tags":["Azioni"],"summary":"/aggiornastato","description":"aggiorna stato messaggi","operationId":"doAggiornaStato","produces":["text/plain"],"parameters":[],"responses":{"200":{"description":"success","schema":{"type":"string"}},"500":{"description":"error"}}}},"/azioni/invianotifiche":{"get":{"tags":["Azioni"],"summary":"/invianotifiche","description":"invia eventuali notifiche messaggi (notifiche in coda)","operationId":"doInviaNotifiche","produces":["text/plain"],"parameters":[],"responses":{"200":{"description":"success","schema":{"type":"string"}},"500":{"description":"error"}}}},"/azioni/invia":{"put":{"tags":["Azioni"],"summary":"/invia","description":"invia messaggi in coda","operationId":"doInvia","produces":["text/plain"],"parameters":[],"responses":{"200":{"description":"success","schema":{"type":"string"}},"500":{"description":"error"}}}},"/azioni/invia/{idMessaggio}":{"put":{"tags":["Azioni"],"summary":"/invia","description":"invia messaggio specifico","operationId":"doInvia","produces":["text/plain"],"parameters":[{"name":"idMessaggio","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"success","schema":{"type":"string"}},"500":{"description":"error"}}}},"/test":{"get":{"tags":["Test"],"summary":"/test","description":"un web service di test per verificare che la webapp sia attiva","operationId":"getIt","produces":["text/plain"],"parameters":[],"responses":{"200":{"description":"successful operation","schema":{"type":"string"}}}}}},"definitions":{"AllegatoPec":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"idMessaggio":{"type":"integer","format":"int64"},"data":{"type":"array","items":{"type":"string","format":"byte"}},"fileName":{"type":"string"},"contetType":{"type":"string"},"size":{"type":"integer","format":"int64"},"storeFileName":{"type":"string"},"storePath":{"type":"string"},"entityMarks":{"$ref":"#/definitions/EntityMarks"},"onlyFileName":{"type":"string"},"deleted":{"type":"boolean"}}},"EntityMarks":{"type":"object","properties":{"dataCreazione":{"type":"string","format":"date-time"},"dataModifica":{"type":"string","format":"date-time"},"dataCancellazione":{"type":"string","format":"date-time"},"utenteCreazioneId":{"type":"integer","format":"int64"},"utenteModificaId":{"type":"integer","format":"int64"},"utenteCancellazioneId":{"type":"integer","format":"int64"}}},"UploadAllegatoRequest":{"type":"object","properties":{"fileName":{"type":"string"},"contentType":{"type":"string"},"size":{"type":"integer","format":"int64"},"idMessaggio":{"type":"integer","format":"int64"}}},"InputStream":{"type":"object"},"FormDataContentDisposition":{"type":"object","properties":{"type":{"type":"string"},"parameters":{"type":"object","additionalProperties":{"type":"string"}},"fileName":{"type":"string"},"creationDate":{"type":"string","format":"date-time"},"modificationDate":{"type":"string","format":"date-time"},"readDate":{"type":"string","format":"date-time"},"size":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"MessaggioPec":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"destinatari":{"type":"string"},"destinatariCC":{"type":"string"},"destinatariCCN":{"type":"string"},"oggetto":{"type":"string"},"messaggio":{"type":"string"},"protocollo":{"type":"string"},"dataInvio":{"type":"string","format":"date-time"},"inviato":{"type":"boolean"},"accettato":{"type":"boolean"},"consegnato":{"type":"boolean"},"anomalia":{"type":"boolean"},"erroreInvio":{"type":"string"},"accettatoIdMessaggio":{"type":"integer","format":"int64"},"consegnatoIdMessaggio":{"type":"integer","format":"int64"},"anomaliaIdMessaggio":{"type":"integer","format":"int64"},"folder":{"type":"string"},"emlFile":{"type":"string"},"emailMittente":{"type":"string"},"nomeMittente":{"type":"string"},"usernameMittente":{"type":"string"},"dataRicezione":{"type":"string","format":"date-time"},"dataInvioOriginale":{"type":"string","format":"date-time"},"processato":{"type":"boolean"},"entityMarks":{"$ref":"#/definitions/EntityMarks"},"inoltrato":{"type":"boolean"},"inotratoIdUtente":{"type":"integer","format":"int64"},"inoltratoDestinatari":{"type":"string"},"inotratoData":{"type":"string","format":"date-time"},"letto":{"type":"boolean"},"lettoIdUtente":{"type":"integer","format":"int64"},"lettoData":{"type":"string","format":"date-time"},"postacertFile":{"type":"string"},"postacertSubject":{"type":"string"},"postacertBody":{"type":"string"},"postacertContentType":{"type":"string"},"archiviato":{"type":"boolean"},"archiviatoIdUtente":{"type":"integer","format":"int64"},"archiviatoData":{"type":"string","format":"date-time"},"messageID":{"type":"string"},"getxRiferimentoMessageID":{"type":"string"},"getxRicevuta":{"type":"string"},"getxTipoRicevuta":{"type":"string"},"mailbox":{"type":"string"},"urlDocumentale":{"type":"string"},"daticertXml":{"type":"string"},"segnaturaXml":{"type":"string"},"statoDescrizione":{"type":"string"},"messaggioHtml":{"type":"string"},"postacertBodyHtml":{"type":"string"},"archiviabile":{"type":"boolean"},"deleted":{"type":"boolean"}}},"NuovoMessaggioResponse":{"type":"object","properties":{"messageId":{"type":"integer","format":"int64"},"link":{"type":"string"}}},"NuovoMessaggioRequest":{"type":"object","properties":{"mailbox":{"type":"string"},"protocollo":{"type":"string"},"urlDocumentale":{"type":"string"},"destinatari":{"type":"array","items":{"type":"string"}},"destinatariCC":{"type":"array","items":{"type":"string"}},"destinatariCCN":{"type":"array","items":{"type":"string"}},"oggetto":{"type":"string"},"testoMessaggio":{"type":"string"},"inviaTestoComeHtml":{"type":"boolean"}}}}}